<p>ğŸ“¢ì´ í¬ìŠ¤íŠ¸ëŠ” ë°±íŠ¸ë˜í‚¹ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œì¸ ìˆœì—´, ì¡°í•©, ë¶€ë¶„ì§‘í•©ì„ ìë°” ì½”ë“œë¡œ êµ¬í˜„ì„ í•˜ê¸° ìœ„í•œ ê¸€ì´ê¸° ë•Œë¬¸ì— ìì„¸í•œ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ì‹œë©´ <a href="https://velog.io/@csj0209/%EC%99%84%EC%A0%84%ED%83%90%EC%83%89">ì™„ì „íƒìƒ‰(íŒŒì´ì¬ ë²„ì „)</a>ì„ ì°¸ê³ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p>ğŸ’¡ë°±íŠ¸ë˜í‚¹ì€ State Tree(DFS) ìë£Œêµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì¬ê·€í•¨ìˆ˜ ì•Œê³ ë¦¬ì¦˜ì´ê¸° ë•Œë¬¸ì—, base conditionê³¼ í›„ë³´êµ°ì„ íƒìƒ‰í•˜ê¸° ìœ„í•œ ì½”ë“œ 2ê°€ì§€ë¡œ ë‚˜ë‰  ìˆ˜ê°€ ìˆë‹¤.</p>
<p>ğŸ’»ë”°ë¼ì„œ ë°±íŠ¸ë˜í‚¹ ê³µí†µ í…œí”Œë¦¿ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<pre><code class="language-java">void backtrack(í˜„ì¬ìƒíƒœ, ê¸°íƒ€íŒŒë¼ë¯¸í„°) {
    // 1. Base condition (ë¬¸ì œë³„ë¡œ ë‹¤ë¦„)
    if (ì¢…ë£Œì¡°ê±´) {
        ê²°ê³¼ì €ì¥();
        return;
    }

    // 2. í›„ë³´ íƒìƒ‰ (ë¬¸ì œë³„ë¡œ ë‹¤ë¦„)
    for (í›„ë³´ë“¤) {
        if (ìœ íš¨í•œí›„ë³´) {
            // ì„ íƒ
            ìƒíƒœë³€í™”();

            // ì¬ê·€ í˜¸ì¶œ
            backtrack(ë‹¤ìŒìƒíƒœ);

            // ë°±íŠ¸ë˜í‚¹ (í•­ìƒ ë™ì¼)
            ìƒíƒœë³µêµ¬();
        }
    }
}</code></pre>
<p>ìœ„ì˜ ê³µí†µ í…œí”Œë¦¿ì´ ìˆœì—´, ì¡°í•©, ë¶€ë¶„ì§‘í•©ì— ì ìš©ë  ë•Œ ì–´ë–»ê²Œ ë‹¬ë¼ì§€ëŠ”ì§€ ì‹¬ë„ìˆê²Œ ì‚´í´ë³´ì.</p>
<h1 id="ìˆœì—´">ìˆœì—´</h1>
<p>ex) <code>nums=[1, 2, 3, 4]</code>ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ìˆœì—´ì„ ë¦¬í„´í•˜ë¼.</p>
<p>ğŸ’¡currì™€ ansëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”í•œë‹¤.
âš™ï¸ìŠ¤í† ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:</p>
<ol>
<li><p>base condition: <code>if len(curr) ==len(nums)</code>ê°€ ì°¸ì´ë©´ ìˆœì—´ë¡œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ansì— ì‚½ì…í•˜ê³ , ë¦¬í„´ë¬¸ìœ¼ë¡œ ì¬ê·€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ëŒì•„ê°€ê²Œ í•œë‹¤.</p>
</li>
<li><p>forë¬¸ìœ¼ë¡œ <strong>í›„ë³´êµ°ì„ íƒìƒ‰</strong>í•œë‹¤.</p>
</li>
<li><ol>
<li>State Treeì— í›„ë³´ê°€ ì—†ìœ¼ë©´ -&gt; currì— í›„ë³´ë¥¼ ì‚½ì…í•˜ê³  <strong>ì¬ê·€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ Depth ì¦ê°€</strong>ì‹œí‚´</li>
</ol>
</li>
<li><ol start="2">
<li><strong>í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ëŒì•„ê°ìœ¼ë¡œì¨ Depthë¥¼ ê°ì†Œ</strong>ì‹œí‚¤ê³ , currì— í›„ë³´ë¥¼ ì œê±°í•œë‹¤.</li>
</ol>
</li>
<li><ol start="3">
<li>State Treeì— í›„ë³´ê°€ ìˆìœ¼ë©´ -&gt; ê·¸ëŒ€ë¡œ forë¬¸ì„ ìˆœíšŒì‹œì¼œì„œ 2.1 ê³¼ì •ì„ ìŠ¤í‚µí•œë‹¤. </li>
</ol>
</li>
<li><p>ansë¥¼ ë¦¬í„´</p>
</li>
</ol>
<h3 id="ğŸ’»ìˆœì—´-ì½”ë“œ">ğŸ’»ìˆœì—´ ì½”ë“œ</h3>
<pre><code class="language-java">public class Permutation {
    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {
        // ë‹µë³€ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();
        backtrack(new ArrayList&lt;&gt;(), new boolean[nums.length], nums, ans);
        return ans;
    }

    private static void backtrack(List&lt;Integer&gt; curr, boolean[] visited, int[] nums, List&lt;List&lt;Integer&gt;&gt; ans) {
        // base condition
        if (curr.size() == nums.length) {
            // currì˜ ëª¨ë“  ì›ì†Œë¥¼ ë³µì‚¬í•´ì„œ ìƒˆë¡œìš´ ArrayListë¥¼ ìƒì„±
            ans.add(new ArrayList&lt;&gt;(curr));
            return;
        }

        // í›„ë³´êµ° íƒìƒ‰
        for (int i = 0; i &lt; nums.length; i++) {
            if (!visited[i]) {
                // í›„ë³´êµ° ì„ íƒ(ìƒíƒœ ë³€í™”)
                visited[i] = true;
                curr.add(nums[i]);

                // ì¬ê·€ í˜¸ì¶œ(Depth ì¦ê°€)
                backtrack(curr, visited, nums, ans);

                // ìƒíƒœ ì›ìƒ ë³µêµ¬
                visited[i] = false;
                curr.removeLast();

            }
        }
    }

}</code></pre>
<ul>
<li>ğŸš¨<code>ans.add(curr)</code>ë¡œ í•˜ë©´ í›„ë³´êµ° íƒìƒ‰ ë¡œì§ currë„ ê°™ì€ ê°ì²´ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— <strong><span style="color: red;">ë³€ê²½ëœ ê°’ì— ì˜í–¥ì„ ë°›ëŠ”ë‹¤.</span></strong><ul>
<li>ğŸ”–ê°’ì„ ê¹Šê²Œ ë³µì‚¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ê²ƒì„ _Shallow Reference(or copy)_ë¼ê³  í•œë‹¤.</li>
</ul>
</li>
<li>í›„ë³´êµ° íƒìƒ‰ ìˆœíšŒì—ì„œ <code>for (int i : nums)</code>ëŠ” valueë§Œì„ ìˆœíšŒí•˜ê¸° ë•Œë¬¸ì— <strong><span style="color: red;">visitedì—ì„œ ì¸ë±ì‹±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</span></strong></li>
<li><strong>backtrackì—ì„œì˜ actual parameterì™€ formal parameter</strong>ë¥¼ ë„£ì–´ì¤„ ë•Œë„ ë§ˆì¹˜ <code>List&lt;Integer&gt; curr = new ArrayList&lt;&gt;();</code>ë¡œ ì°¸ì¡°í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤.</li>
</ul>
<h3 id="ğŸ’»ì¡°í•©-ì½”ë“œ">ğŸ’»ì¡°í•© ì½”ë“œ</h3>
<pre><code class="language-java">public class Combination {
    public List&lt;List&lt;Integer&gt;&gt; combine(int[] nums, int r) {
        // ë‹µë³€ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();
        backtrack(new ArrayList&lt;&gt;(), new boolean[nums.length], nums, ans, 0, 2);
        return ans;
    }

    private static void backtrack(List&lt;Integer&gt; curr, boolean[] visited, int[] nums, List&lt;List&lt;Integer&gt;&gt; ans, int start, int r) {
        // base condition
        if (curr.size() == r) {
            ans.add(new ArrayList&lt;&gt;(curr));
            return;
        }
        // í›„ë³´êµ° íƒìƒ‰
        for (int i = start; i &lt; nums.length; i++) {
            if (!visited[i]) {
                visited[i] = true;
                curr.add(nums[i]);

                backtrack(curr, visited, nums, ans, i + 1, r);
                visited[i] = false;
                curr.removeLast();

            }
        }
    }
}</code></pre>
<ul>
<li>ğŸ’¡ìˆœì—´ì˜ í›„ë³´êµ° íƒìƒ‰ ë¡œì§ì—ì„œëŠ” <code>backtrack()</code>ì„ í˜¸ì¶œí•˜ë©´ ë‹¤ì‹œ ì²˜ìŒ ì¸ë±ìŠ¤ë¶€í„° ìˆœíšŒí•˜ê³  visitedë¡œ ìƒíƒœ ë³€í™”ë¥¼ ì²´í¬í•˜ì§€ë§Œ, ì¡°í•©ì—ì„œëŠ”** ì›ì†Œë¥¼ ì„ íƒ<strong>ë§Œ í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— **backtrackì„ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ì‹œì‘ ì¸ë±ìŠ¤ë¥¼ i + 1ë¡œ ì¦ê°€</strong>ì‹œì¼œì•¼ í•œë‹¤.</li>
</ul>
<h3 id="ğŸ’»ë¶€ë¶„ì§‘í•©-ì½”ë“œ">ğŸ’»ë¶€ë¶„ì§‘í•© ì½”ë“œ</h3>
<pre><code class="language-java">public class Subset {
    public List&lt;List&lt;Integer&gt;&gt; subset(int[] nums) {
        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();
        // 0~nê¹Œì§€ì˜ ëª¨ë“  ì¡°í•©ì„ êµ¬í•¨
        for (int r = 0; r &lt; nums.length + 1; r++) {
            backtrack(nums, new ArrayList&lt;&gt;(), ans, new boolean[nums.length], 0, r);
        }

        return ans;
    }

    private static void backtrack(int[] nums, List&lt;Integer&gt; curr, List&lt;List&lt;Integer&gt;&gt; ans, boolean[] visited, int start, int r) {
        // base condition
        if (curr.size() == r) {
            ans.add(new ArrayList&lt;&gt;(curr));
            return;
        }

        // í›„ë³´êµ° íƒìƒ‰
        for (int i = start; i &lt; nums.length; i++) {
            if (!visited[i]) {
                visited[i] = true;
                curr.add(nums[i]);
                backtrack(nums, curr, ans, visited, i + 1, r);
                visited[i] = false;
                curr.removeLast();
            }
        }
    }
}</code></pre>
<ul>
<li>ë¶€ë¶„ì§‘í•© í•¨ìˆ˜ëŠ” <strong>ì¡°í•© í…œí”Œë¦¿ í•¨ìˆ˜ì—ì„œ numsì˜ ê¸¸ì´ë§Œí¼ ìˆœíšŒí•˜ë©´ì„œ backtrackì„ í˜¸ì¶œ</strong>í•˜ë©´ ëœë‹¤.<ul>
<li>ì´ë•Œ, <strong>ìˆœíšŒí•˜ë©´ì„œ ì¦ê°€í•˜ëŠ” rì„ backtrackì˜ ì¸ì</strong>ë¡œ ë³´ë‚´ì¤˜ì•¼ rì„ base conditionì—ì„œ ì²´í¬í•¨ìœ¼ë¡œì¨ ansì— ì¶”ê°€ì‹œí‚¬ ìˆ˜ ìˆë‹¤.<ul>
<li>ì¦‰,** ì¸ìì˜ ê³ ì •ê°’ì¸ rì„ ê°€ë³€ì ìœ¼ë¡œ ë³€í™”**ì‹œì¼°ë‹¤ê³  ë³´ë©´ ëœë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="â°ì‹œê°„ë³µì¡ë„">â°ì‹œê°„ë³µì¡ë„</h1>
<p>ìˆœì—´: $$O(n! * n)$$ 
ì¡°í•©: $$O(C(n, r) * r)$$
ë¶€ë¶„ì§‘í•©: $$O(C(n, r) * n)$$</p>
<ul>
<li>ğŸ’¡ì˜†ì— ìˆ«ìê°€ ê³±í•´ì§„ ì´ìœ ëŠ” <code>new ArrayList&lt;&gt;(curr)</code>ë¡œ ë³µì‚¬í•˜ëŠ” ì‹œê°„ì´ ì¶”ê°€ë¡œ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤.<ul>
<li>ğŸ”ì¢Œí•­ì„ ê¸°ë³¸ ì‹œê°„ë³µì¡ë„ë¼ê³  ë³´ë©´ ëœë‹¤.</li>
</ul>
</li>
</ul>